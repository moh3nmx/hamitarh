var validation=$.isFunction($.fn.valid)?1:0;$.fn.isValid=function(){if(validation){return this.valid()}else{return true}};if(validation){$.validator.setDefaults({errorClass:"invalid",validClass:"valid",errorPlacement:function(a,b){if(b.is(":radio")||b.is(":checkbox")){a.insertBefore($(b).parent())}else{a.insertAfter(b)}},success:function(a){if(!$(a).closest("li").find("label.invalid:not(:empty)").length){$(a).closest("li").removeClass("wrong")}}})}$.fn.getActiveStep=function(){active=this.find(".step.active");return $(this.children(".step:visible")).index($(active))+1};$.fn.activateStep=function(a){if($(this).hasClass("step")){return}stepper=$(this).closest("ul.stepper");stepper.find(">li").removeAttr("data-last");if(window.innerWidth<993||!stepper.hasClass("horizontal")){$(this).addClass("step").stop().slideDown(400,function(){$(this).css({height:"auto","margin-bottom":"",display:"inherit"});if(a){a()}stepper.find(">li.step").last().attr("data-last","true")})}else{$(this).addClass("step").stop().css({width:"0%",display:"inherit"}).animate({width:"100%"},400,function(){$(this).css({height:"auto","margin-bottom":"",display:"inherit"});if(a){a()}stepper.find(">li.step").last().attr("data-last","true")})}};$.fn.deactivateStep=function(a){if(!$(this).hasClass("step")){return}stepper=$(this).closest("ul.stepper");stepper.find(">li").removeAttr("data-last");if(window.innerWidth<993||!stepper.hasClass("horizontal")){$(this).stop().css({transition:"none","-webkit-transition":"margin-bottom none"}).slideUp(400,function(){$(this).removeClass("step").css({height:"auto","margin-bottom":"",transition:"margin-bottom .4s","-webkit-transition":"margin-bottom .4s"});if(a){a()}stepper.find(">li").removeAttr("data-last");stepper.find(">li.step").last().attr("data-last","true")})}else{$(this).stop().animate({width:"0%"},400,function(){$(this).removeClass("step").hide().css({height:"auto","margin-bottom":"",display:"none",width:""});if(a){a()}stepper.find(">li.step").last().attr("data-last","true")})}};$.fn.showError=function(a){if(validation){name=this.attr("name");form=this.closest("form");var b={};b[name]=a;form.validate().showErrors(b);this.closest("li").addClass("wrong")}else{this.removeClass("valid").addClass("invalid");this.next().attr("data-error",a)}};$.fn.activateFeedback=function(){active=this.find(".step.active:not(.feedbacking)").addClass("feedbacking").find(".step-content");active.prepend('<div class="wait-feedback"> <div class="preloader-wrapper active"> <div class="spinner-layer spinner-blue"> <div class="circle-clipper left"> <div class="circle"></div></div><div class="gap-patch"> <div class="circle"></div></div><div class="circle-clipper right"> <div class="circle"></div></div></div><div class="spinner-layer spinner-red"> <div class="circle-clipper left"> <div class="circle"></div></div><div class="gap-patch"> <div class="circle"></div></div><div class="circle-clipper right"> <div class="circle"></div></div></div><div class="spinner-layer spinner-yellow"> <div class="circle-clipper left"> <div class="circle"></div></div><div class="gap-patch"> <div class="circle"></div></div><div class="circle-clipper right"> <div class="circle"></div></div></div><div class="spinner-layer spinner-green"> <div class="circle-clipper left"> <div class="circle"></div></div><div class="gap-patch"> <div class="circle"></div></div><div class="circle-clipper right"> <div class="circle"></div></div></div></div></div>')};$.fn.destroyFeedback=function(){active=this.find(".step.active.feedbacking");if(active){active.removeClass("feedbacking");active.find(".wait-feedback").remove()}return true};$.fn.resetStepper=function(a){if(!a){a=1}form=$(this).closest("form");$(form)[0].reset();Materialize.updateTextFields();return $(this).openStep(a)};$.fn.submitStepper=function(a){form=this.closest("form");if(form.isValid()){form.submit()}};$.fn.nextStep=function(c,b,a){stepper=this;settings=$(stepper).data("settings");form=this.closest("form");active=this.find(".step.active");next=$(this.children(".step:visible")).index($(active))+2;feedback=active.find(".next-step").length>1?(a?$(a.target).data("feedback"):undefined):active.find(".next-step").data("feedback");if(form.isValid()){if(feedback&&b){if(settings.showFeedbackLoader){stepper.activateFeedback()}return window[feedback].call()}active.removeClass("wrong").addClass("done");this.openStep(next,c);return this.trigger("nextstep")}else{return active.removeClass("done").addClass("wrong")}};$.fn.prevStep=function(a){active=this.find(".step.active");if(active.hasClass("feedbacking")){return}prev=$(this.children(".step:visible")).index($(active));active.removeClass("wrong");this.openStep(prev,a);return this.trigger("prevstep")};$.fn.openStep=function(a,b){settings=$(this).closest("ul.stepper").data("settings");$this=this;step_num=a-1;a=this.find(".step:visible:eq("+step_num+")");if(a.hasClass("active")){return}active=this.find(".step.active");prev_active=next=$(this.children(".step:visible")).index($(active));order=step_num>prev_active?1:0;if(active.hasClass("feedbacking")){$this.destroyFeedback()}active.closeAction(order);a.openAction(order,function(){if(settings.autoFocusInput){a.find("input:enabled:visible:first").focus()}$this.trigger("stepchange").trigger("step"+(step_num+1));if(a.data("event")){$this.trigger(a.data("event"))}if(b){b()}})};$.fn.closeAction=function(a,b){closable=this.removeClass("active").find(".step-content");if(window.innerWidth<993||!this.closest("ul").hasClass("horizontal")){closable.stop().slideUp(300,"easeOutQuad",b)}else{if(a==1){closable.animate({left:"-100%"},function(){closable.css({display:"none",left:"0%"},b)})}else{closable.animate({left:"100%"},function(){closable.css({display:"none",left:"0%"},b)})}}};$.fn.openAction=function(a,b){openable=this.removeClass("done").addClass("active").find(".step-content");if(window.innerWidth<993||!this.closest("ul").hasClass("horizontal")){openable.slideDown(300,"easeOutQuad",b)}else{if(a==1){openable.css({left:"100%",display:"block"}).animate({left:"0%"},b)}else{openable.css({left:"-100%",display:"block"}).animate({left:"0%"},b)}}};$.fn.activateStepper=function(a){var b=$.extend({linearStepsNavigation:true,autoFocusInput:true,showFeedbackLoader:true,autoFormCreation:true},a);$(document).on("click",function(c){if(!$(c.target).parents(".stepper").length){$(".stepper.focused").removeClass("focused")}});$(this).each(function(){var c=$(this);if(!c.parents("form").length&&b.autoFormCreation){method=c.data("method");action=c.data("action");method=(method?method:"GET");action=(action?action:"?");c.wrap('<form action="'+action+'" method="'+method+'"></div>')}c.data("settings",{linearStepsNavigation:b.linearStepsNavigation,autoFocusInput:b.autoFocusInput,showFeedbackLoader:b.showFeedbackLoader});c.find("li.step.active").openAction(1);c.find(">li").removeAttr("data-last");c.find(">li.step").last().attr("data-last","true");c.on("click",".step:not(.active)",function(){object=$(c.children(".step:visible")).index($(this));if(!c.hasClass("linear")){c.openStep(object+1)}else{if(b.linearStepsNavigation){active=c.find(".step.active");if($(c.children(".step:visible")).index($(active))+1==object){c.nextStep(undefined,true,undefined)}else{if($(c.children(".step:visible")).index($(active))-1==object){c.prevStep(undefined)}}}}}).on("click",".next-step",function(d){d.preventDefault();c.nextStep(undefined,true,d)}).on("click",".previous-step",function(d){d.preventDefault();c.prevStep(undefined)}).on("click","button:submit:not(.next-step, .previous-step)",function(d){d.preventDefault();feedback=d?$(d.target).data("feedback"):undefined;form=c.closest("form");if(form.isValid()){if(feedback){stepper.activateFeedback();return window[feedback].call()}form.submit()}}).on("click",function(){$(".stepper.focused").removeClass("focused");$(this).addClass("focused")})})};